using System.Text.Json;

namespace MorseCode.Test.Services
{
    public abstract class BaseClass
    {
        public static readonly string morseCodeJsonString = @"{
  ""A"": [ ""."", ""-"" ],
  ""B"": [ ""-"", ""."", ""."", ""."" ],
  ""C"": [ ""-"", ""."", ""-"", ""."" ],
  ""D"": [ ""-"", ""."", ""."" ],
  ""E"": [ ""."" ],
  ""F"": [ ""."", ""."", ""-"", ""."" ],
  ""G"": [ ""-"", ""-"", ""."" ],
  ""H"": [ ""."", ""."", ""."", ""."" ],
  ""I"": [ ""."", ""."" ],
  ""J"": [ ""."", ""-"", ""-"", ""-"" ],
  ""K"": [ ""-"", ""."", ""-"" ],
  ""L"": [ ""."", ""-"", ""."", ""."" ],
  ""M"": [ ""-"", ""-"" ],
  ""N"": [ ""-"", ""."" ],
  ""O"": [ ""-"", ""-"", ""-"" ],
  ""P"": [ ""."", ""-"", ""-"", ""."" ],
  ""Q"": [ ""-"", ""-"", ""."", ""-"" ],
  ""R"": [ ""."", ""-"", ""."" ],
  ""S"": [ ""."", ""."", ""."" ],
  ""T"": [ ""-"" ],
  ""U"": [ ""."", ""."", ""-"" ],
  ""V"": [ ""."", ""."", ""."", ""-"" ],
  ""W"": [ ""."", ""-"", ""-"" ],
  ""X"": [ ""-"", ""."", ""."", ""-"" ],
  ""Y"": [ ""-"", ""."", ""-"", ""-"" ],
  ""Z"": [ ""-"", ""-"", ""."", ""."" ],
  ""1"": [ ""."", ""-"", ""-"", ""-"", ""-"" ],
  ""2"": [ ""."", ""."", ""-"", ""-"", ""-"" ],
  ""3"": [ ""."", ""."", ""."", ""-"", ""-"" ],
  ""4"": [ ""."", ""."", ""."", ""."", ""-"" ],
  ""5"": [ ""."", ""."", ""."", ""."", ""."" ],
  ""6"": [ ""-"", ""."", ""."", ""."", ""."" ],
  ""7"": [ ""-"", ""-"", ""."", ""."", ""."" ],
  ""8"": [ ""-"", ""-"", ""-"", ""."", ""."" ],
  ""9"": [ ""-"", ""-"", ""-"", ""-"", ""."" ],
  ""0"": [ ""-"", ""-"", ""-"", ""-"", ""-"" ],
  ""."": [ ""."", ""-"", ""."", ""-"", ""."", ""-"" ],
  "","": [ ""-"", ""-"", ""."", ""."", ""-"", ""-"" ],
  ""?"": [ ""."", ""."", ""-"", ""-"", ""."", ""."" ],
  ""'"": [ ""."", ""-"", ""-"", ""-"", ""-"", ""."" ],
  ""!"": [ ""-"", ""."", ""-"", ""."", ""-"", ""-"" ],
  ""/"": [ ""-"", ""."", ""."", ""-"", ""."" ],
  ""("": [ ""-"", ""."", ""-"", ""-"", ""."" ],
  "")"": [ ""-"", ""."", ""-"", ""-"", ""."", ""-"" ],
  ""&"": [ ""."", ""-"", ""."", ""."", ""."" ],
  "":"": [ ""-"", ""-"", ""-"", ""."", ""."", ""."" ],
  "";"": [ ""-"", ""."", ""-"", ""."", ""-"" ],
  ""="": [ ""-"", ""."", ""."", ""."", ""-"" ],
  ""+"": [ ""."", ""-"", ""."", ""-"", ""."" ],
  ""-"": [ ""-"", ""."", ""."", ""."", ""."", ""-"" ],
  ""_"": [ ""."", ""."", ""-"", ""-"", ""."", ""-"" ],
  ""\"""": [ ""."", ""-"", ""."", ""."", ""-"", ""."" ],
  ""$"": [ ""."", ""."", ""."", ""-"", ""."", ""."", ""-"" ],
  ""@"": [ ""."", ""-"", ""-"", ""."", ""-"", ""."" ]
}";

        public static string[] ConvertFromJSONStringValuesToArray(string jsonContent)
        {
            // Deserialize JSON to a Dictionary
            var jsonData = JsonSerializer.Deserialize<Dictionary<string, string[]>>(jsonContent);

            // Convert the parsed JSON into the required morse code Dictionary
            var list = new List<string>();
            foreach (var code in from kvp in jsonData
                                 let code = string.Join("", kvp.Value)
                                 select code)
            {
                list.Add(code);
            }

            return list.ToArray<string>();
        }
    }
}
